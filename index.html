<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>WebGL Demo</title>
		<script src="webgl.js" type="module"></script>
		<link rel="stylesheet" href="style.css" />
	</head>

	<body>
		<canvas id="gl-canvas"></canvas>

		<div class="controls-overlay">
			<button id="button1">Mandelbrot</button>
			<button id="button2">Julia</button>
			<button id="button3">Mandelbulb</button>
		</div>

		<div class="popup-overlay">
			<div id="controls1" class="control-panel">
				<h2>Mandelbrot Controls</h2>
				<label for="iterations">Iterations: <span id="iterations-value">30</span></label>
				<input
					type="range"
					id="iterations"
					min="0"
					max="1000"
					value="30"
					oninput="document.getElementById('iterations-value').textContent = this.value"
				/>
				<label for="colormode">Shading:</label>
				<select id="colormode">
					<option value="0">Normalized</option>
					<option value="1">Unstable map</option>
				</select>
			</div>

			<div id="controls2" class="control-panel">
				<h2>Julia Controls</h2>
				<label for="bud_colormode">Color Mode:</label>
				<select id="bud_colormode">
					<option value="0">Intensity</option>
					<option value="1">HSV</option>
					<option value="2">Gradient</option>
				</select>
			</div>

			<div id="controls3" class="control-panel">
				<h2>Mandelbulb Controls</h2>
				<input type="text" placeholder="Control 3.1" />
				<input type="text" placeholder="Control 3.2" />
			</div>
		</div>

		<script type="module">
			function hideAllControls() {
				document.querySelectorAll('.control-panel').forEach((panel) => {
					panel.style.display = 'none'
				})
			}

			document.querySelectorAll('.controls-overlay button').forEach((button) => {
				button.addEventListener('click', function () {
					hideAllControls()
					const controlId = this.id.replace('button', 'controls')
					const controls = document.getElementById(controlId)
					controls.style.display = 'flex'
				})
			})
		</script>
	</body>
</html>
